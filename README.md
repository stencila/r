# üîµ `r`

**R interpreter for executable documents**

[![All Contributors](https://img.shields.io/badge/all_contributors-6-orange.svg?style=flat-square)](#contributors)
[![Build status](https://travis-ci.org/stencila/r.svg?branch=master)](https://travis-ci.org/stencila/r)
[![Code coverage](https://codecov.io/gh/stencila/r/branch/master/graph/badge.svg)](https://codecov.io/gh/stencila/r)

## ‚ö†Ô∏è Deprecated

This project is deprecated and no longer maintained. At the time of writing, we are instead focussing on using [`tree-sitter`](https://github.com/tree-sitter/tree-sitter) for sematic analysis, and [`IRKernel`](https://github.com/IRkernel/IRkernel#readme) for execution, of R code. Please see, our main repository, [`stencila/stencila`](https://github.com/stencila/stencila) for further information.

## üì¶ Install

This package isn't on CRAN yet, but you can install it from this repository using the [`devtools`](https://github.com/hadley/devtools) package,

```r
devtools::install_github("stencila/r")
```

You may need to install the `graph` package from Bioconductor if you don't already have it:

```r
source("https://bioconductor.org/biocLite.R")
biocLite("graph")
```

Then install the package so that other Stencila packages and applications can detect it:

```r
stencila:::register()
```

**Note** Installing Stencila package for R may take a while as there are a number of dependencies which need to be installed. 

## ‚ö° Use

This package lets you run R code from inside Stencila Documents. When you start the [Stencila Desktop](https://github.com/stencila/desktop) it will be automatically detect the installed R package and you'll be able to execute R code cells from within your documents.

Check out what people are doing with Stencila and R. [Giulio Valentino Dalla Riva](https://github.com/gvdr) has created Tiny Open Access Data Samples ([TOADS](https://github.com/gvdr/toads/)). These awesome open datasets teach programming and statistics using Stencila. Check out the TOADS!

More documentation is available at https://stencila.github.io/r

We love feedback. Create a [new issue](https://github.com/stencila/r/issues/new), add to [existing issues](https://github.com/stencila/r/issues) or [chat](https://gitter.im/stencila/stencila) with members of the community.

## ‚öíÔ∏è Develop

Most development tasks can be run from R, using `make` shortcuts or RStudio keyboard shortcuts.

Task                                                    | `make`                | R/RStudio       |
------------------------------------------------------- |-----------------------|-----------------|
Install development dependencies                        | `make setup`          | 
Run linting                                             | `make lint`           | `lintr::lint_package()`
Run tests                                               | `make test`           | `devtools::test()` or `Ctrl+Shift+T`
Run tests with coverage                                 | `make cover`          | `covr::package_coverage()`
Build documentation                                     | `make docs`           |
Check the package                                       | `make check`          | `Ctrl+Shift+E`
Build                                                   | `make build`          | `Ctrl+Shift+B`
Clean                                                   | `make clean`          |

To run test files individually, in R use `test_file`:

```r
library(testthat)
testthat::test_file(system.file("tests/testthat/test-r-context.R",package="stencila"))
```

To get started, please read our contributor [code of conduct](CONDUCT.md), then [get in touch](https://gitter.im/stencila/stencila) or checkout the [platform-wide, cross-repository kanban board](https://github.com/orgs/stencila/projects/1), or just send in a pull request!

Unit tests live in the `tests` folder and are mostly written using `testthat`. Documentation is written using `roxygen2` and the documentation site is generated by `pkgdown` into the [`docs`](docs) folder and published on Github pages.

Tests are run on [Travis](https://travis-ci.org/stencila/r) and code coverage tracked at [Codecov](https://codecov.io/gh/stencila/r).

## üíñ Contributors

Thanks goes to these wonderful people ([emoji key](https://github.com/kentcdodds/all-contributors#emoji-key)):

<!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section -->
<!-- prettier-ignore -->
| [<img src="https://avatars2.githubusercontent.com/u/2358535?v=4" width="100px;"/><br /><sub><b>Aleksandra Pawlik</b></sub>](http://stenci.la)<br />[üíª](https://github.com/stencila/r/commits?author=apawlik "Code") | [<img src="https://avatars2.githubusercontent.com/u/13207169?v=4" width="100px;"/><br /><sub><b>Danielle Robinson</b></sub>](https://github.com/daniellecrobinson)<br />[üìñ](https://github.com/stencila/r/commits?author=daniellecrobinson "Documentation") | [<img src="https://avatars2.githubusercontent.com/u/7623019?v=4" width="100px;"/><br /><sub><b>Achintya Rao</b></sub>](https://scholar.social/@RaoOfPhysics)<br />[üìñ](https://github.com/stencila/r/commits?author=RaoOfPhysics "Documentation") | [<img src="https://avatars1.githubusercontent.com/u/1325054?v=4" width="100px;"/><br /><sub><b>Daniel N√ºst</b></sub>](http://nordholmen.net)<br />[üíª](https://github.com/stencila/r/commits?author=nuest "Code") | [<img src="https://avatars2.githubusercontent.com/u/5362577?v=4" width="100px;"/><br /><sub><b>HarryZhu</b></sub>](https://github.com/harryprince)<br />[üìñ](https://github.com/stencila/r/commits?author=harryprince "Documentation") | [<img src="https://avatars0.githubusercontent.com/u/1152336?v=4" width="100px;"/><br /><sub><b>Nokome Bentley</b></sub>](https://github.com/nokome)<br />[üíª](https://github.com/stencila/r/commits?author=nokome "Code") |
| :---: | :---: | :---: | :---: | :---: | :---: |
<!-- ALL-CONTRIBUTORS-LIST:END -->

This project follows the [all-contributors](https://github.com/kentcdodds/all-contributors) specification. Contributions of any kind welcome!